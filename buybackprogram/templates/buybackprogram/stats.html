{% extends 'buybackprogram/base.html' %}
{% load i18n %}
{% load humanize %}
{% load price_formats %}

{% block details %}

<div class="table-responsive">
    <table style="width: 25%" class="table table-condensed">
        <tbody>
            <tr>
                <th>Outstanding value:</th>
                <td>{{values.outstanding|floatformat:0|intcomma|price}}</td>
            </tr>
            <tr>
                <th>Total sold:</th>
                <td>{{values.finished|floatformat:0|intcomma|price}}</td>
            </tr>
        </tbody>
    </table>
</div>


<div class="table-responsive">
    <table class="table table-striped table-condensed">
        <thead>
            <tr>
                <th >{% trans "Date issued" %}</th>
                <th >{% trans "Time pending" %}</th>
                <th >{% trans "Status" %}</th>
                <th >{% trans "Tracking #" %}</th>
                <th >{% trans "Price" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for contract in contracts %}
                {% if contract.status == 'outstanding' %}
                    <tr>
                        <td>{{contract.date_issued}}</td>
                        <td>{{ contract.date_issued|timesince }}</td>
                        <td>{{contract.status}}</td>
                        <td>{{contract.title}}</td>
                        <td>{{contract.price|floatformat:0|intcomma|price}}</td>
                    </tr>
                {% endif %}
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="table-responsive">
    <table class="table table-striped table-condensed">
        <thead>
            <tr>
                <th >{% trans "Date issued" %}</th>
                <th >{% trans "Date accepted" %}</th>
                <th >{% trans "Time for accepted" %}</th>
                <th >{% trans "Status" %}</th>
                <th >{% trans "Tracking #" %}</th>
                <th >{% trans "Price" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for contract in contracts %}
                {% if contract.status == 'finished' %}
                    <tr>
                        <td>{{contract.date_issued}}</td>
                        <td>{{contract.date_completed}}</td>
                        <td>{{ contract.date_completed|timeuntil:contract.date_issued }}</td>
                        <td>{{contract.status}}</td>
                        <td>{{contract.title}}</td>
                        <td>{{contract.price|floatformat:0|intcomma|price}}</td>
                    </tr>
                {% endif %}
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block extra_javascript %}
{% endblock %}

{% block extra_css %}
{% endblock %}

{% block extra_script %}
{% endblock %}
